<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>은퇴 계산기</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@100..700&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            "primary": "#2563eb",
            "sidebar-dark": "#111827",
            "sidebar-light": "#1f2937",
          },
        },
      },
    }
  </script>
  <style>
    /* Base styles for desktop */
    body {
      margin: 0;
      font-family: 'Manrope', sans-serif;
      background-color: #f8fafc;
      /* Default padding for desktop sidebar */
      padding-left: calc(5rem + 2rem);
      transition: padding-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    #sidebar {
      transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
    }

    .nav-item .text {
      opacity: 0;
      transition: opacity 0.2s ease-in-out;
      white-space: nowrap;
    }

    #sidebar:hover .text {
      opacity: 1;
    }

    .nav-item {
      color: #94a3b8; /* slate-400 */
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 1rem; /* 16px */
      height: 3rem; /* 48px */
      padding: 0 1rem; /* 16px */
    }
    
    .nav-item .icon {
       min-width: 2rem; /* 32px */
       display: grid;
       place-items: center;
    }
    
    .nav-item:hover {
      background-color: #1f2937; /* slate-800 */
      color: #e5e7eb; /* slate-200 */
    }
    
    .nav-item.active {
      background-color: #2563eb;
      color: white;
      box-shadow: 0 4px 14px -4px rgba(37, 99, 235, 0.5);
    }
    
    #content {
      width: 100%;
      height: 100vh;
    }
    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    
    /* Responsive styles for mobile (screens <= 768px) */
    @media screen and (max-width: 768px) {
      body {
        /* Remove side padding and add top padding for the horizontal bar */
        padding-left: 0;
        padding-top: 5rem; /* Height of the top nav bar */
      }

      #sidebar {
        /* Transform sidebar into a fixed top bar */
        width: 100%;
        height: 5rem;
        top: 0;
        left: 0;
        bottom: auto;
        
        flex-direction: row;
        align-items: center;
        justify-content: space-between;

        padding: 0 1rem;
        gap: 1rem;
        
        border-radius: 0;
        border-r: none;
        border-b: 1px solid #374151; /* slate-700 */
      }
      
      /* Disable the hover-to-expand effect on mobile */
      #sidebar:hover {
          width: 100%;
      }

      #nav-links {
        flex-direction: row;
        flex: 1;
        justify-content: flex-start;
        gap: 0.5rem;
        padding: 0;
        width: auto;
      }

      /* Hide text labels on mobile to save space */
      .nav-item .text {
        display: none;
      }
      
      /* Make nav items icon-only circles/squares */
      .nav-item {
          width: 3rem;   /* size-12 */
          height: 3rem;
          justify-content: center;
          padding: 0;
          gap: 0;
      }

      /* Adjust settings container */
      #settings-container {
        width: auto;
        padding: 0;
      }
    }
  </style>
</head>
<body>

  <!-- Sidebar (Desktop) / Topbar (Mobile) -->
  <nav id="sidebar" class="w-20 hover:w-60 bg-sidebar-dark border-r border-slate-800 flex flex-col items-center py-8 gap-10 fixed h-[calc(100%-2rem)] top-4 left-4 z-50 rounded-2xl">
    <!-- Logo -->
    <a href="#" class="size-12 bg-primary rounded-xl flex items-center justify-center shadow-lg shadow-primary/20 flex-shrink-0">
      <span class="material-symbols-outlined text-white text-3xl">account_balance_wallet</span>
    </a>
    
    <!-- Navigation Links -->
    <div id="nav-links" class="flex flex-col gap-4 flex-1 w-full px-4">
      <a href="retir-calc.html" target="content-frame" class="nav-item active rounded-xl" title="Calculator">
        <span class="icon material-symbols-outlined">calculate</span>
        <span class="text font-semibold">계산기</span>
      </a>
      <a href="market.html" target="content-frame" class="nav-item rounded-xl" title="Market Trends">
        <span class="icon material-symbols-outlined">trending_up</span>
        <span class="text font-semibold">시장 동향</span>
      </a>
      <a href="about.html" target="content-frame" class="nav-item rounded-xl" title="About / Info">
        <span class="icon material-symbols-outlined">info</span>
        <span class="text font-semibold">소개</span>
      </a>
      <a href="community.html" target="content-frame" class="nav-item rounded-xl" title="Community">
        <span class="icon material-symbols-outlined">forum</span>
        <span class="text font-semibold">커뮤니티</span>
      </a>
    </div>
    
    <!-- Settings -->
    <div id="settings-container" class="flex flex-col gap-4 w-full px-4">
      <button class="nav-item rounded-xl">
        <span class="icon material-symbols-outlined text-[20px]">settings</span>
        <span class="text font-semibold">설정</span>
      </button>
    </div>
  </nav>

  <!-- Main Content -->
  <main id="content">
    <iframe name="content-frame" src="retir-calc.html"></iframe>
  </main>

  <script>
    const navLinksContainer = document.getElementById('nav-links');
    
    navLinksContainer.addEventListener('click', (e) => {
      const link = e.target.closest('a');
      if (!link) return;
      
      navLinksContainer.querySelectorAll('a').forEach(l => {
        l.classList.remove('active');
      });
      
      link.classList.add('active');
    });
  </script>

</body>
</html>
